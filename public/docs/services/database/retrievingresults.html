<!DOCTYPE html>
<html lang="en-US">
	<head>
		
		<title>Database | Wiggum a php framework</title>
	
		<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
<link rel='stylesheet' id='prism-css'  href='/static/css/prism.css' media='all' />
<link rel='stylesheet' id='styles-css'  href='/static/css/style.css' media='all' />
	</head>

	<body>

		<header class="site-header">
	<div class="container">
		<a href="/" class="site-title">Wiggum</a>
		<div class="lead">a php framework</div>
	</div>
</header>
		
		<div class="container">
			<div class="row">
				<div class="col-md-3">
				
					<div class="docs-nav hidden-sm hidden-xs">
	<div class="docs-nav-list">
		<h4 class="title">Get Started</h4>
		<ul>
			<li class="">
				<a href="/docs/">Installation</a>
			</li>
			<li class="">
				<a href="/docs/started/configuration.html">Configuration</a>
			</li>
			<li class="">
				<a href="/docs/started/directory.html">Directory Structure</a>
			</li>
		</ul>
	</div>
	<div class="docs-nav-list">
		<h4 class="title">Foundation</h4>
		<ul>
			<li class="">
				<a href="/docs/foundation/application.html">Application</a>
			</li>
			<li class="">
				<a href="/docs/foundation/services.html">Services</a>
			</li>
			<li class="">
				<a href="/docs/foundation/middleware.html">Middleware</a>
			</li>
			<li class="">
				<a href="/docs/foundation/routing.html">Routing</a>
			</li>
		</ul>
	</div>
	<div class="docs-nav-list">
		<h4 class="title">Basics</h4>
		<ul>
			<li class="">
				<a href="/docs/basics/controller.html">Controller</a>
			</li>
			<li class="">
				<a href="/docs/basics/request.html">Request</a>
			</li>
			<li class="">
				<a href="/docs/basics/response.html">Response</a>
			</li>
		</ul>
	</div>
			
	<div class="docs-nav-list">
		<h4 class="title">Services</h4>
		<ul>
			<li class="">
				<a href="/docs/services/errorhandling/">Error Handling</a>
			</li>
			<li class="">
				<a href="/docs/services/exceptionhandling/">Exception Handling</a>
			</li>
			<li class="">
				<a href="/docs/services/logging/">Logging</a>
			</li>
			<li class="docs-nav-sub">
				<a href="/docs/services/database/">Database</a>
				<ul>
					<li>
						<a href="/docs/services/database/retrievingresults.html">Retrieving Results</a>
					</li>
					<li>
						<a href="/docs/services/database/selects.html">Selects</a>
					</li>
					<li>
						<a href="/docs/services/database/joins.html">Joins</a>
					</li>
					<li>
						<a href="/docs/services/database/unions.html">Unions</a>
					</li>
					<li>
						<a href="/docs/services/database/wheres.html">Where Clauses</a>
					</li>
					<!-- 
					<li>
						<a href="/docs/services/database/">Ordering, Grouping, Limit, & Offset</a>
					</li>
					<li>
						<a href="/docs/services/database/">Conditional Clauses</a>
					</li>
					 -->
					<li>
						<a href="/docs/services/database/inserts.html">Inserts</a>
					</li>
					<li>
						<a href="/docs/services/database/updates.html">Updates</a>
					</li>
					<li>
						<a href="/docs/services/database/delete.html">Deletes</a>
					</li>
				</ul>
			</li>
			<li class="">
				<a href="/docs/services/flashmessage/">Flash Messages</a>
			</li>
			<li class="">
				<a href="/docs/services/memcache/">Memcache</a>
			</li>
			<li class="">
				<a href="/docs/services/templates/">Templates</a>
			</li>
		</ul>
	</div>

<!-- 
			<li>
				<span class="title">Utilities</span>
				<ul>
					<li>
						<a href="http://wiggumdocs.home.org/docs/utilities/encryption/">Encryption</a>
					</li>
					<li>
						<a href="http://wiggumdocs.home.org/docs/utilities/errors-logging/">Errors & Logging</a>
					</li>
					<li>
						<a href="http://wiggumdocs.home.org/docs/utilities/file-io/">File I/O</a>
					</li>
					<li>
						<a href="http://wiggumdocs.home.org/docs/utilities/hashing/">Hashing</a>
					</li>
					<li>
						<a href="http://wiggumdocs.home.org/docs/utilities/templates/">Templates</a>
					</li>
					<li>
						<a href="http://wiggumdocs.home.org/docs/utilities/helpers/">Helpers</a>
					</li>
					<li>
						<a href="http://wiggumdocs.home.org/docs/utilities/session/">Session</a>
					</li>
					<li>
						<a href="http://wiggumdocs.home.org/docs/utilities/flash-message/">Flash Message</a>
					</li>
					<li>
						<a href="http://wiggumdocs.home.org/docs/utilities/image-processing/">Image Processing</a>
					</li>
				</ul>
			</li>
			<li>
				<span class="title">Database</span>
				<ul>
					<li>
						<a href="http://wiggumdocs.home.org/docs/database/basic-usage/">Basic Usage</a>
					</li>
					<li>
						<a href="http://wiggumdocs.home.org/docs/database/query-builder/">Query Builder</a>
					</li>
				</ul>
			</li>
			 -->
</div>

				</div>
				<div class="col-md-7">
					
					<section>
						<div class="page-header">
							<h1>Database: Retrieving Results</h1>
						</div>
					</section>
					
					<section>	
						<h4>Fetching results</h4>
						<p>
							You may use the <code>table</code> method on the DB service to begin a query. The <code>table</code> method returns a query builder instance for the given table, allowing you to chain more constraints onto the query and then finally get the results using any of the below methods:
						</p>
						
						<div class="sub-section">
							<h5>Retrieving A Single Row</h5>
							
							<p>
                        		Use the <code>fetchRow</code> method to get a single row. By default the row is a php standard object, pass true as the first parameter
                        		for the row to be associate array.
                        	</p>
                    		
                    		<pre class=" language-php"><code class="language-php">$users = $this->db->table('users')->where('id', '=', 5)->fetchRow();

$users = $this->db->table('users')->where('id', '=', 5)->fetchRow(true);</code></pre>
                       		
                    		<p>
                        		Use the <code>fetchObject</code> method to get a single row. Row is a php object of the type you pass it.
                        	</p>
                    		
                    		<pre class=" language-php"><code class="language-php">$users = $this->db->table('users')->where('id', '=', 5)->fetchObject(new User());</code></pre>
                       
                        </div>
                        
						<div class="sub-section">
                    		<h5>Retrieving All Rows From a Table</h5>
							
                        	<p>
                        		Use the <code>fetchRows</code> method to get an array of all rows. By default the rows are returned as php objects, pass true as the first parameter
                        		for the rows to be associate array.
                        	</p>
                        	
                        	<pre class=" language-php"><code class="language-php">$users = $this->db->table('users')->fetchRows();

$users = $this->db->table('users')->fetchRows(true);</code></pre>

                        	<p>
                        		Use the <code>fetchObjects</code> method to get an array of all rows. Each row is a php object of the type you pass it.
                        	</p>
                        	
                        	<pre class=" language-php"><code class="language-php">$users = $this->db->table('users')->fetchObjects(new User());</code></pre>
                       
                       		<p>
                       			You can also retrieve the resulting array as an associtive array with a column as the key.
                       		</p>	
                       		
                       		<pre class=" language-php"><code class="language-php">$users = $this->db->table('users')->select(['id', 'email', 'name'])->fetchRowsWithColumnKey('id');</code></pre>
                       
                        </div>
                        
						<div class="sub-section">	
                        	<h5>Retrieve all items of a column</h5>
                        	
                        	<p>
                        		If you would like to retrieve a Collection containing the values of a single column, you may use the <code>fetchAllColumn</code> method. In this example, we'll retrieve a Collection of titles:
                        	</p>
                        
                        	<pre class=" language-php"><code class="language-php">$titles = $this->db->table('users')->select('title')->fetchAllColumn();</code></pre>
                       
                        </div>
                        
                    	<div class="sub-section">	
                        	<h5>Retrieving a Column From a Table</h5>
                        	
                        	<p>If you don't need an entire row, you may extract a single value from a record using the <code>fetchValue</code> method. This method will return the value of the column directly:</p>
                        	
                        	<pre class="language-php"><code class="language-php">$email = $this->db->table('users')->select('email')->fetchValue();</code></pre>
                       
                        </div>
                        
                    	<div class="sub-section">
                    		<h5>Retrieve a list as a key value pair</h5>
                    		
                    		<p>You may retrieve a list as a key value pair using the <code>fetchKeyValuePair</code> method.</p>
                        	
                        	<pre class="language-php"><code class="language-php">$options = $this->db->table('options')->fetchKeyValuePair('name', 'value');</code></pre>
                       
                        </div>
                        
                    </section>	
                    	
                    <section>
                    	<h4>Aggregates</h4>
                    	
                    	<p>
							The query builder also provides a variety of aggregate methods such as <code>count</code>, <code>max</code>, <code>min</code>, 
							<code>avg</code>, and <code>sum</code>. You may call any of these methods after constructing your query:
						</p>
						
                        <pre class=" language-php"><code class="language-php">$users = $this->db->table('users')->count();</code></pre>
                        
                        <pre class=" language-php"><code class="language-php">$price = $this->db->table('orders')->max('price');</code></pre>

						<p>You may combine these methods with other clauses:</p>

						<pre class=" language-php"><code class="language-php">$price = $this->db->table('orders')
    ->where('finalized', 1)
    ->avg('price');</code></pre>
						
						
					</section>
					
				</div>
			</div>
		</div>
		
		<script type='text/javascript' src='https://ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js?ver=1.10.1'></script>
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

<script type="text/javascript" src="/static/js/prism.js"></script>

<script>
    var path = window.location.pathname;
    var link = $('.docs-nav a[href="'+path+'"]');
    
    if (link.length > 0) {
        let closest = link.closest('.docs-nav-sub');
        if (closest.length > 0) {
            closest.addClass('active');
        }
        
        link.parent().addClass('active');
    }
</script>
	</body>
</html>	