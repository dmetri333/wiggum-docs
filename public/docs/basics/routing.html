<!DOCTYPE html>
<html lang="en-US">
	<head>
		
		<title>HTTP Routing | Wiggum</title>
	
		<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
<link rel='stylesheet' id='prism-css'  href='/static/css/prism.css' media='all' />
<link rel='stylesheet' id='styles-css'  href='/static/css/style.css' media='all' />
	</head>

	<body>

		<header class="site-header">
	<div class="container">
		<a href="/" class="site-title">Wiggum</a>
		<div class="lead">a php framework</div>
	</div>
</header>
		
		<div class="container">
			<div class="row">
				<div class="col-md-3">
				
					<div class="docs-nav hidden-sm hidden-xs">
	<div class="docs-nav-list">
		<h4 class="title">Get Started</h4>
		<ul>
			<li class="">
				<a href="/docs/">Installation</a>
			</li>
			<li class="">
				<a href="/docs/started/configuration.php">Configuration</a>
			</li>
			<li class="">
				<a href="/docs/started/directory.php">Directory Structure</a>
			</li>
		</ul>
	</div>
	<div class="docs-nav-list">
		<h4 class="title">Foundation</h4>
		<ul>
			<li class="">
				<a href="/docs/foundation/application.php">Application</a>
			</li>
			<li class="">
				<a href="/docs/foundation/services.php">Services</a>
			</li>
			<li class="">
				<a href="/docs/foundation/middleware.php">Middleware</a>
			</li>
			<li class="">
				<a href="/docs/foundation/routing.php">Routing</a>
			</li>
		</ul>
	</div>
	<div class="docs-nav-list">
		<h4 class="title">Basics</h4>
		<ul>
			<li class="">
				<a href="/docs/basics/controller.php">Controller</a>
			</li>
			<li class="">
				<a href="/docs/basics/request.php">Request</a>
			</li>
			<li class="">
				<a href="/docs/basics/response.php">Response</a>
			</li>
		</ul>
	</div>
			
	<div class="docs-nav-list">
		<h4 class="title">Services</h4>
		<ul>
			<li class="">
				<a href="/docs/services/errorhandling/">Error Handling</a>
			</li>
			<li class="">
				<a href="/docs/services/exceptionhandling/">Exception Handling</a>
			</li>
			<li class="">
				<a href="/docs/services/logging/">Logging</a>
			</li>
			<li class="docs-nav-sub">
				<a href="/docs/services/database/">Database</a>
				<ul>
					<li>
						<a href="/docs/services/database/retrievingresults.php">Retrieving Results</a>
					</li>
					<li>
						<a href="/docs/services/database/selects.php">Selects</a>
					</li>
					<li>
						<a href="/docs/services/database/joins.php">Joins</a>
					</li>
					<li>
						<a href="/docs/services/database/unions.php">Unions</a>
					</li>
					<li>
						<a href="/docs/services/database/wheres.php">Where Clauses</a>
					</li>
					<!-- 
					<li>
						<a href="/docs/services/database/">Ordering, Grouping, Limit, & Offset</a>
					</li>
					<li>
						<a href="/docs/services/database/">Conditional Clauses</a>
					</li>
					 -->
					<li>
						<a href="/docs/services/database/inserts.php">Inserts</a>
					</li>
					<li>
						<a href="/docs/services/database/updates.php">Updates</a>
					</li>
					<li>
						<a href="/docs/services/database/delete.php">Deletes</a>
					</li>
				</ul>
			</li>
			<li class="">
				<a href="/docs/services/flashmessage/">Flash Messages</a>
			</li>
			<li class="">
				<a href="/docs/services/memcache/">Memcache</a>
			</li>
			<li class="">
				<a href="/docs/services/templates/">Templates</a>
			</li>
		</ul>
	</div>

<!-- 
			<li>
				<span class="title">Utilities</span>
				<ul>
					<li>
						<a href="http://wiggumdocs.home.org/docs/utilities/encryption/">Encryption</a>
					</li>
					<li>
						<a href="http://wiggumdocs.home.org/docs/utilities/errors-logging/">Errors & Logging</a>
					</li>
					<li>
						<a href="http://wiggumdocs.home.org/docs/utilities/file-io/">File I/O</a>
					</li>
					<li>
						<a href="http://wiggumdocs.home.org/docs/utilities/hashing/">Hashing</a>
					</li>
					<li>
						<a href="http://wiggumdocs.home.org/docs/utilities/templates/">Templates</a>
					</li>
					<li>
						<a href="http://wiggumdocs.home.org/docs/utilities/helpers/">Helpers</a>
					</li>
					<li>
						<a href="http://wiggumdocs.home.org/docs/utilities/session/">Session</a>
					</li>
					<li>
						<a href="http://wiggumdocs.home.org/docs/utilities/flash-message/">Flash Message</a>
					</li>
					<li>
						<a href="http://wiggumdocs.home.org/docs/utilities/image-processing/">Image Processing</a>
					</li>
				</ul>
			</li>
			<li>
				<span class="title">Database</span>
				<ul>
					<li>
						<a href="http://wiggumdocs.home.org/docs/database/basic-usage/">Basic Usage</a>
					</li>
					<li>
						<a href="http://wiggumdocs.home.org/docs/database/query-builder/">Query Builder</a>
					</li>
				</ul>
			</li>
			 -->
</div>

				</div>
				<div class="col-md-9">
				
					<section>
						<div class="page-header">
							<h1>HTTP Routing</h1>
						</div>

						<p>
							Routing rules are defined in your <code>app/boot/routes.php</code> file. 
							Add routing rules to an array variable called <code>$routing</code>. 
							The most basic Wiggum routes simply accept a URI and a set of options:
						</p>	
						
						<section>
							<h3>Basic Usage</h3>
							<pre><code class="language-php">// example.com/journals/ invokes the doDefault method in the controller class Blog 
$app->addRoute('journals', ['classPath' => '\app\controllers\blog\Blog']);

// example.com/docs/ invokes the allDocuments method in the controller class Documents 
$app->addRoute('docs', ['classPath' => '\app\controllers\documents\Documents', 'method' => 'allDocuments']);
</code></pre>						
		
							<div class="docs-callout docs-callout-info">
								<h4>Order of Execution</h4>
								<p>Routes will run in the order they are defined. Higher routes will always take precedence over lower ones.</p>
							</div>
						</section>
						
						<section>
							<h3>Regular Expressions</h3>
							<p>
								To activate regular expressions you must add the <code>regex</code> option and set it to <code>true</code>.
								All matched values in the regular expressions will be added to the Request object as paramaters.
							</p>
							<pre><code class="language-php">// example.com/products/shirts/123/ invokes the doDefault method in the controller class Blog
$app->addRoute('/products/([a-z]+)/(\d+)/', ['classPath' => '\app\controllers\blog\Blog', 'regex' => true]);
</code></pre>

							<div class="docs-callout docs-callout-warning">
								<h4>Duplicated Paramaters</h4>
								<p>If the http request already has paramaters with the same name as the matched regular expression, then the matched values will take priority.</p>
							</div>
						</section>

						<section>
							<h3>Reserved Routes</h3>
							<pre><code class="language-php">// example.com invokes the action that should be executed if the URI is empty, 
// which will be the case when people load your root URL.
$app->addRoute('/', ['classPath' => '\app\controllers\dashboard\Dashboard']);

// This is called a catch all, if URI can not be matched to any route and you have declared * route, 
// then all unmatched URIs will be directed accordingly.
$app->addRoute('*', ['classPath' => '\app\controllers\catchall\CatchAll']);
</code></pre>				
					
							<div class="docs-callout docs-callout-warning">
								<h4>Catch All</h4>
								<p>The Catch all route is always checked last and is the only exception to the previous rule. </p>
								<p>It does not require the <code>regex</code> option.</p>
							</div>
						</section>						
						
						<section>
							<h3>Closures Route Declarations</h3>	
							<p>This route simply accepts a URI and a Closure. It must return a <code>array</code> with the routes options.</p>
							<pre><code class="language-php">$app->addRoute('journals', function() {
	return ['classPath' => '\app\controllers\blog\Blog'];
});
</code></pre>	

							<p>
								Of course, sometimes you will need to capture segments or parameters of the URI within your route. 
								For example, you may need to capture a user's ID from the URL. You may do so by defining route parameters:
							</p>
							<pre><code class="language-php">$app->addRoute('/user/(\d+)/', function($segments, $parameters) {
	$userId = $parameters[0];
						
	return ['classPath' => '\app\controllers\users\Users', 'parameters' => ['id' => $userId]];
});
</code></pre>	
						</section>
						<section>	
							<h3>Route options</h3>
							<p>The options that are available to you are:</p>
							<ul class="list-unstyled">
								<li><strong>classPath</strong>: The class path to your controller</li>
								<li><strong>method</strong>: The method to invoke in your controller (default: doDefault)</li>
								<li><strong>parameters</strong>: Any paramaters you would like to attach to your request object</li>
								<li><strong>regex</strong>: Uses regular expressions on your route (default: <code>false</code>)</li>
							</ul>
					</section>
				
				</div>
			</div>
		</div>
		
		<script type='text/javascript' src='https://ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js?ver=1.10.1'></script>
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

<script type="text/javascript" src="/static/js/prism.js"></script>

<script>
    var path = window.location.pathname;
    var link = $('.docs-nav a[href="'+path+'"]');

    console.log(path);
    console.log(link);
    

    if (!empty(link)) {
        link.parent().addClass('active');
    }
</script>
	</body>
</html>	